# 令operator=返回一个reference to *this

---

关于赋值，有趣的是可以将它们写成连锁形式

```cpp
int x, y, z;

x=y=z=15;           // 赋值连锁形式
```

同样有趣的是，赋值采用右结合律，所以上述连锁赋值被解析为

```cpp
x=(y=(z=15));
```

为了实现连锁赋值，赋值操作符必须返回一个reference指向操作符的左侧实参。这是为`class`实现赋值操作符时应该遵守的协议

```cpp
class Widget{
public:
    ...
    Widget& operator=(const Widget& rhs){
        ...
        return *this;
    }
    ...
};
```

这个协议不仅适用于以上的标准赋值形式，也适用于所有赋值运算相关，例如`+=`,`*=`,`=`

---

注意这只是个协议，并无强制性。不遵循这个协议代码一样可以通过编译，但这份协议被所有内置类型和标准程序库提供的类型共同遵守。没有特殊情况还是随众吧

---
# 请记住

- 令赋值操作符返回一个reference to *this
